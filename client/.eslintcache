[{"D:\\exjobb\\ReceptMingel\\client\\src\\components\\RecipeTemplate\\index.js":"1","D:\\exjobb\\ReceptMingel\\client\\src\\components\\inputField.js":"2","D:\\exjobb\\ReceptMingel\\client\\src\\components\\RecipeTemplate\\CategoriesInput.js":"3","D:\\exjobb\\ReceptMingel\\client\\src\\components\\RecipeTemplate\\IngredientsInput.js":"4","D:\\exjobb\\ReceptMingel\\client\\src\\components\\SearchView\\index.js":"5","D:\\exjobb\\ReceptMingel\\client\\src\\contexts\\authentication\\authentication.context.js":"6","D:\\exjobb\\ReceptMingel\\client\\src\\components\\startPage\\RegisterNewUser\\index.js":"7","D:\\exjobb\\ReceptMingel\\client\\src\\index.js":"8","D:\\exjobb\\ReceptMingel\\client\\src\\contexts\\index.js":"9","D:\\exjobb\\ReceptMingel\\client\\src\\routes\\app.router.js":"10","D:\\exjobb\\ReceptMingel\\client\\src\\Header\\index.js":"11","D:\\exjobb\\ReceptMingel\\client\\src\\contexts\\authentication\\context.js":"12","D:\\exjobb\\ReceptMingel\\client\\src\\routes\\protected.route.js":"13","D:\\exjobb\\ReceptMingel\\client\\src\\pages\\RecipeView.page.js":"14","D:\\exjobb\\ReceptMingel\\client\\src\\config\\media.js":"15","D:\\exjobb\\ReceptMingel\\client\\src\\components\\RecipeWheel.js":"16","D:\\exjobb\\ReceptMingel\\client\\src\\components\\RecipeView\\index.js":"17","D:\\exjobb\\ReceptMingel\\client\\src\\components\\SearchView\\ResultCard.js":"18","D:\\exjobb\\ReceptMingel\\client\\src\\components\\RecipeTemplate\\CookingTimeInput.js":"19","D:\\exjobb\\ReceptMingel\\client\\src\\components\\RecipeView\\TopSection.js":"20","D:\\exjobb\\ReceptMingel\\client\\src\\components\\RecipeView\\CookingStepsSection.js":"21","D:\\exjobb\\ReceptMingel\\client\\src\\components\\RecipeTemplate\\categories.listItem.js":"22","D:\\exjobb\\ReceptMingel\\client\\src\\components\\RecipeTemplate\\text.listItem.js":"23","D:\\exjobb\\ReceptMingel\\client\\src\\contexts\\recipe\\recipe.contextProvider.js":"24","D:\\exjobb\\ReceptMingel\\client\\src\\components\\RecipeBookView\\index.js":"25","D:\\exjobb\\ReceptMingel\\client\\src\\Header\\MainNavbar.js":"26","D:\\exjobb\\ReceptMingel\\client\\src\\App.js":"27","D:\\exjobb\\ReceptMingel\\client\\src\\pages\\Start.page.js":"28","D:\\exjobb\\ReceptMingel\\client\\src\\pages\\RecipeBook.page.js":"29","D:\\exjobb\\ReceptMingel\\client\\src\\pages\\Search.page.js":"30","D:\\exjobb\\ReceptMingel\\client\\src\\pages\\User.page.js":"31","D:\\exjobb\\ReceptMingel\\client\\src\\components\\SideMenu\\index.js":"32","D:\\exjobb\\ReceptMingel\\client\\src\\components\\SideMenu\\TypeIsRecipe.js":"33","D:\\exjobb\\ReceptMingel\\client\\src\\contexts\\recipe\\context.js":"34","D:\\exjobb\\ReceptMingel\\client\\src\\components\\startPage\\LogInUser\\index.js":"35","D:\\exjobb\\ReceptMingel\\client\\src\\components\\SearchView\\PopUpRecipe.js":"36","D:\\exjobb\\ReceptMingel\\client\\src\\components\\RecipeTemplate\\CookingStepsInput.js":"37"},{"size":14556,"mtime":1611853866204,"results":"38","hashOfConfig":"39"},{"size":3296,"mtime":1611852714494,"results":"40","hashOfConfig":"39"},{"size":3289,"mtime":1611852631630,"results":"41","hashOfConfig":"39"},{"size":5454,"mtime":1611852631619,"results":"42","hashOfConfig":"39"},{"size":3542,"mtime":1611868513032,"results":"43","hashOfConfig":"39"},{"size":5615,"mtime":1611854504049,"results":"44","hashOfConfig":"39"},{"size":9458,"mtime":1611859652363,"results":"45","hashOfConfig":"39"},{"size":1071,"mtime":1611852572864,"results":"46","hashOfConfig":"39"},{"size":494,"mtime":1611790140239,"results":"47","hashOfConfig":"39"},{"size":1753,"mtime":1611867596266,"results":"48","hashOfConfig":"39"},{"size":1309,"mtime":1611867204677,"results":"49","hashOfConfig":"39"},{"size":866,"mtime":1611790140238,"results":"50","hashOfConfig":"39"},{"size":648,"mtime":1610992506198,"results":"51","hashOfConfig":"39"},{"size":9224,"mtime":1611867973128,"results":"52","hashOfConfig":"39"},{"size":679,"mtime":1611751959162,"results":"53","hashOfConfig":"39"},{"size":2193,"mtime":1611852572844,"results":"54","hashOfConfig":"39"},{"size":12078,"mtime":1611861346328,"results":"55","hashOfConfig":"39"},{"size":3144,"mtime":1611852572853,"results":"56","hashOfConfig":"39"},{"size":1291,"mtime":1611859590929,"results":"57","hashOfConfig":"39"},{"size":4773,"mtime":1611852572843,"results":"58","hashOfConfig":"39"},{"size":1698,"mtime":1611852572841,"results":"59","hashOfConfig":"39"},{"size":1144,"mtime":1610566774478,"results":"60","hashOfConfig":"39"},{"size":3870,"mtime":1611751959133,"results":"61","hashOfConfig":"39"},{"size":3411,"mtime":1611859711130,"results":"62","hashOfConfig":"39"},{"size":4480,"mtime":1611868315870,"results":"63","hashOfConfig":"39"},{"size":2688,"mtime":1611868088484,"results":"64","hashOfConfig":"39"},{"size":247,"mtime":1611868063398,"results":"65","hashOfConfig":"39"},{"size":2767,"mtime":1611868147443,"results":"66","hashOfConfig":"39"},{"size":1335,"mtime":1611868180069,"results":"67","hashOfConfig":"39"},{"size":633,"mtime":1611867437388,"results":"68","hashOfConfig":"39"},{"size":5163,"mtime":1611867392247,"results":"69","hashOfConfig":"39"},{"size":1559,"mtime":1611867739397,"results":"70","hashOfConfig":"39"},{"size":3607,"mtime":1611868523421,"results":"71","hashOfConfig":"39"},{"size":486,"mtime":1611683381279,"results":"72","hashOfConfig":"39"},{"size":5164,"mtime":1611852631596,"results":"73","hashOfConfig":"39"},{"size":1877,"mtime":1611790140233,"results":"74","hashOfConfig":"39"},{"size":5501,"mtime":1611852631625,"results":"75","hashOfConfig":"39"},{"filePath":"76","messages":"77","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},"u58s1p",{"filePath":"79","messages":"80","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"81"},{"filePath":"82","messages":"83","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"84","messages":"85","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"86","messages":"87","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"88","messages":"89","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"90","usedDeprecatedRules":"81"},{"filePath":"91","messages":"92","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"93","messages":"94","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"95","messages":"96","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"97","messages":"98","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"99","messages":"100","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"101","messages":"102","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"81"},{"filePath":"103","messages":"104","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"81"},{"filePath":"105","messages":"106","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"81"},{"filePath":"107","messages":"108","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"109","messages":"110","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"111","messages":"112","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"113","messages":"114","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"115","messages":"116","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"81"},{"filePath":"117","messages":"118","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"119","messages":"120","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"121","messages":"122","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"123","messages":"124","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"125","messages":"126","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"81"},{"filePath":"127","messages":"128","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"129","messages":"130","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"131","messages":"132","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"81"},{"filePath":"133","messages":"134","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"81"},{"filePath":"135","messages":"136","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"81"},{"filePath":"137","messages":"138","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"81"},{"filePath":"139","messages":"140","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"141","messages":"142","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"143","messages":"144","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"145","messages":"146","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"147","messages":"148","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"149","messages":"150","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"151","messages":"152","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"D:\\exjobb\\ReceptMingel\\client\\src\\components\\RecipeTemplate\\index.js",[],["153","154"],"D:\\exjobb\\ReceptMingel\\client\\src\\components\\inputField.js",[],["155","156"],"D:\\exjobb\\ReceptMingel\\client\\src\\components\\RecipeTemplate\\CategoriesInput.js",[],"D:\\exjobb\\ReceptMingel\\client\\src\\components\\RecipeTemplate\\IngredientsInput.js",[],"D:\\exjobb\\ReceptMingel\\client\\src\\components\\SearchView\\index.js",[],"D:\\exjobb\\ReceptMingel\\client\\src\\contexts\\authentication\\authentication.context.js",["157"],"import {useEffect, useState} from 'react';\r\nimport axios from '../../axios';\r\nimport AuthenticationContext from './context';\r\n\r\nconst AuthenticationContextProvider = (props) => {\r\n    const [user, setUser] = useState(null);\r\n    const [recipeBook, setRecipeBook] = useState([]);\r\n    const [isLoadingUser, setIsLoadingUser] = useState(true);\r\n    const [isLoadingBook, setIsLoadingBook] = useState(true)\r\n    const [isLoadingUnauthorized, setIsLoadingUnauthorized] = useState(false);\r\n    const [isAuthenticated, setIsAuthenticated] = useState(false);\r\n\r\n    //FETCH FUNCTION DISABLED BECAUSE COOKIES ANS SESSIONS NOT WORKING ATM BECAUSE NETLIFY DON'T TRUST HEROKU's 3RD PARTY COOKIE\r\n   /*  async function fetchData(){\r\n        await axios\r\n        .get('/users', { withCredentials: true })\r\n        .then((res) => {\r\n            if(res.data.message && res.data.message === \"Authenticated\"){\r\n                setIsAuthenticated(true);\r\n                setUser(res.data.user);\r\n                getRecipeBook(res.data.user._id)\r\n                setIsLoadingUser(false);\r\n            } else {\r\n                setIsAuthenticated(false);\r\n                setUser(null);\r\n                setIsLoadingUnauthorized(true)\r\n            };\r\n        })\r\n        .catch(error => console.log(error))\r\n    };\r\n\r\n    useEffect(() => {\r\n        fetchData()\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, []); */\r\n\r\n    //This should be refactorized when authentication works\r\n    const getSessionUser = async(id) => {\r\n        setIsLoadingUser(true);\r\n        try{\r\n            let data = await axios.get(`/users/${id}`, { withCredentials: true })\r\n            .then(({data}) => data);\r\n            setUser(data)\r\n            setIsLoadingUser(false);\r\n        }catch(error){\r\n            console.log(error)\r\n        }\r\n    };\r\n\r\n    //fetches and populates the updated user.recipeBook array when user is updated.\r\n   useEffect(() => {\r\n        (!isLoadingUser && user) && getRecipeBook(user._id)\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [user]) \r\n\r\n    const getRecipeBook = async(id) => {\r\n        try{\r\n            let data = await axios.get(`/users/recipeBook/${id}`, { withCredentials: true })\r\n            .then(({data}) => data);\r\n            setRecipeBook(data.recipeBook[0].recipe)\r\n            setIsLoadingBook(false)\r\n        }catch(error){\r\n            console.log(error)\r\n        }\r\n    }\r\n\r\n    const removeRecipeBookItem = (list, id) => {\r\n        const newList = list.filter((item) => item !== id);\r\n        setUser({\r\n            ...user,\r\n            recipeBook: newList,\r\n        })\r\n    };\r\n\r\n    const addRecipeBookItem = (listItem) => {\r\n        const newItem = listItem;\r\n        const newList = [...user.recipeBook, newItem];\r\n        setUser({\r\n            ...user,\r\n            recipeBook: newList,\r\n        })\r\n    };\r\n\r\n    //for updating both recipeBook and user\r\n    const updateUser = async(id, inputValues) => {\r\n        await axios\r\n        .patch(`/users/${id}`, inputValues, {withCredentials: true})\r\n        .then((data) => {\r\n            getSessionUser(user._id);\r\n        })\r\n        .catch(error => console.log(error))\r\n    };\r\n\r\n    //Register new user\r\n    const registerNewUser = async (inputValues) => {\r\n        await axios\r\n        .post('/users', inputValues)\r\n        .then((res) => {\r\n            if(res.data.message){\r\n                if (res.data.message === \"Authenticated\") {\r\n                    setIsAuthenticated(true);\r\n                    setUser(res.data.user);\r\n                    setIsLoadingUser(false)\r\n                } else {\r\n                    setIsAuthenticated(false);\r\n                    setUser(null);\r\n                    setIsLoadingUnauthorized(true)\r\n                };\r\n                return res.data.message\r\n            }; \r\n        })\r\n        .catch(error => console.log(error))  \r\n    }\r\n\r\n    const login = async (username, password) => {\r\n        await axios\r\n        .post('/users/session/login', {username, password}, {withCredentials: true})\r\n        .then((res) => {\r\n            if(res.data.message){\r\n                if (res.data.message === \"Authenticated\") {\r\n                    setIsAuthenticated(true);\r\n                    setUser(res.data.user);\r\n                    setIsLoadingUser(false)\r\n                } else {\r\n                    setIsAuthenticated(false);\r\n                    setUser(null);\r\n                    setIsLoadingUnauthorized(true)\r\n                };\r\n                return res.data.message\r\n            };  \r\n        })\r\n        .catch(error => {\r\n            console.log(error)\r\n        })\r\n    };\r\n    \r\n    const logout = async () => {\r\n        setUser(null);\r\n        setIsAuthenticated(false);\r\n        setIsLoadingUnauthorized(true);\r\n        setIsLoadingUser(true);\r\n        await axios.delete('users/session/logout',{ withCredentials: true })\r\n    };\r\n\r\n    //TODO move register to here?\r\n\r\n    //TODO Update user here?\r\n\r\n    return(\r\n        <AuthenticationContext.Provider\r\n            {...props}\r\n            value={{\r\n                addRecipeBookItem,\r\n                //fetchData,\r\n                getRecipeBook,\r\n                getSessionUser,\r\n                isAuthenticated,\r\n                isLoadingUnauthorized,\r\n                isLoadingUser,\r\n                login,\r\n                logout,\r\n                recipeBook,\r\n                registerNewUser,\r\n                removeRecipeBookItem,\r\n                updateUser,\r\n                user,\r\n            }}\r\n        />\r\n    );\r\n};\r\n\r\nexport default AuthenticationContextProvider;","D:\\exjobb\\ReceptMingel\\client\\src\\components\\startPage\\RegisterNewUser\\index.js",[],"D:\\exjobb\\ReceptMingel\\client\\src\\index.js",[],"D:\\exjobb\\ReceptMingel\\client\\src\\contexts\\index.js",[],"D:\\exjobb\\ReceptMingel\\client\\src\\routes\\app.router.js",[],"D:\\exjobb\\ReceptMingel\\client\\src\\Header\\index.js",[],"D:\\exjobb\\ReceptMingel\\client\\src\\contexts\\authentication\\context.js",[],"D:\\exjobb\\ReceptMingel\\client\\src\\routes\\protected.route.js",[],"D:\\exjobb\\ReceptMingel\\client\\src\\pages\\RecipeView.page.js",[],"D:\\exjobb\\ReceptMingel\\client\\src\\config\\media.js",[],"D:\\exjobb\\ReceptMingel\\client\\src\\components\\RecipeWheel.js",[],"D:\\exjobb\\ReceptMingel\\client\\src\\components\\RecipeView\\index.js",[],"D:\\exjobb\\ReceptMingel\\client\\src\\components\\SearchView\\ResultCard.js",[],"D:\\exjobb\\ReceptMingel\\client\\src\\components\\RecipeTemplate\\CookingTimeInput.js",[],"D:\\exjobb\\ReceptMingel\\client\\src\\components\\RecipeView\\TopSection.js",[],"D:\\exjobb\\ReceptMingel\\client\\src\\components\\RecipeView\\CookingStepsSection.js",[],"D:\\exjobb\\ReceptMingel\\client\\src\\components\\RecipeTemplate\\categories.listItem.js",[],"D:\\exjobb\\ReceptMingel\\client\\src\\components\\RecipeTemplate\\text.listItem.js",["158"],"D:\\exjobb\\ReceptMingel\\client\\src\\contexts\\recipe\\recipe.contextProvider.js",[],"D:\\exjobb\\ReceptMingel\\client\\src\\components\\RecipeBookView\\index.js",[],"D:\\exjobb\\ReceptMingel\\client\\src\\Header\\MainNavbar.js",[],"D:\\exjobb\\ReceptMingel\\client\\src\\App.js",[],"D:\\exjobb\\ReceptMingel\\client\\src\\pages\\Start.page.js",[],"D:\\exjobb\\ReceptMingel\\client\\src\\pages\\RecipeBook.page.js",[],"D:\\exjobb\\ReceptMingel\\client\\src\\pages\\Search.page.js",[],"D:\\exjobb\\ReceptMingel\\client\\src\\pages\\User.page.js",[],"D:\\exjobb\\ReceptMingel\\client\\src\\components\\SideMenu\\index.js",[],"D:\\exjobb\\ReceptMingel\\client\\src\\components\\SideMenu\\TypeIsRecipe.js",[],"D:\\exjobb\\ReceptMingel\\client\\src\\contexts\\recipe\\context.js",[],"D:\\exjobb\\ReceptMingel\\client\\src\\components\\startPage\\LogInUser\\index.js",[],"D:\\exjobb\\ReceptMingel\\client\\src\\components\\SearchView\\PopUpRecipe.js",[],"D:\\exjobb\\ReceptMingel\\client\\src\\components\\RecipeTemplate\\CookingStepsInput.js",[],{"ruleId":"159","replacedBy":"160"},{"ruleId":"161","replacedBy":"162"},{"ruleId":"159","replacedBy":"163"},{"ruleId":"161","replacedBy":"164"},{"ruleId":"165","severity":1,"message":"166","line":9,"column":12,"nodeType":"167","messageId":"168","endLine":9,"endColumn":25},{"ruleId":"165","severity":1,"message":"169","line":3,"column":8,"nodeType":"167","messageId":"168","endLine":3,"endColumn":13},"no-native-reassign",["170"],"no-negated-in-lhs",["171"],["170"],["171"],"no-unused-vars","'isLoadingBook' is assigned a value but never used.","Identifier","unusedVar","'media' is defined but never used.","no-global-assign","no-unsafe-negation"]