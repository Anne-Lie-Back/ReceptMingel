[{"D:\\exjobb\\ReceptMingel\\client\\src\\components\\RecipeTemplate\\index.js":"1","D:\\exjobb\\ReceptMingel\\client\\src\\components\\inputField.js":"2","D:\\exjobb\\ReceptMingel\\client\\src\\components\\RecipeTemplate\\CategoriesInput.js":"3","D:\\exjobb\\ReceptMingel\\client\\src\\components\\RecipeTemplate\\IngredientsInput.js":"4","D:\\exjobb\\ReceptMingel\\client\\src\\components\\SearchView\\index.js":"5","D:\\exjobb\\ReceptMingel\\client\\src\\contexts\\authentication\\authentication.context.js":"6","D:\\exjobb\\ReceptMingel\\client\\src\\components\\startPage\\RegisterNewUser\\index.js":"7","D:\\exjobb\\ReceptMingel\\client\\src\\index.js":"8","D:\\exjobb\\ReceptMingel\\client\\src\\contexts\\index.js":"9","D:\\exjobb\\ReceptMingel\\client\\src\\routes\\app.router.js":"10","D:\\exjobb\\ReceptMingel\\client\\src\\Header\\index.js":"11","D:\\exjobb\\ReceptMingel\\client\\src\\contexts\\authentication\\context.js":"12","D:\\exjobb\\ReceptMingel\\client\\src\\routes\\protected.route.js":"13","D:\\exjobb\\ReceptMingel\\client\\src\\pages\\RecipeView.page.js":"14","D:\\exjobb\\ReceptMingel\\client\\src\\config\\media.js":"15","D:\\exjobb\\ReceptMingel\\client\\src\\components\\RecipeWheel.js":"16","D:\\exjobb\\ReceptMingel\\client\\src\\components\\RecipeView\\index.js":"17","D:\\exjobb\\ReceptMingel\\client\\src\\components\\SearchView\\ResultCard.js":"18","D:\\exjobb\\ReceptMingel\\client\\src\\components\\RecipeTemplate\\CookingTimeInput.js":"19","D:\\exjobb\\ReceptMingel\\client\\src\\components\\RecipeView\\TopSection.js":"20","D:\\exjobb\\ReceptMingel\\client\\src\\components\\RecipeView\\CookingStepsSection.js":"21","D:\\exjobb\\ReceptMingel\\client\\src\\components\\RecipeTemplate\\categories.listItem.js":"22","D:\\exjobb\\ReceptMingel\\client\\src\\components\\RecipeTemplate\\text.listItem.js":"23","D:\\exjobb\\ReceptMingel\\client\\src\\contexts\\recipe\\recipe.contextProvider.js":"24"},{"size":14556,"mtime":1611853866204,"results":"25","hashOfConfig":"26"},{"size":3296,"mtime":1611852714494,"results":"27","hashOfConfig":"26"},{"size":3289,"mtime":1611852631630,"results":"28","hashOfConfig":"26"},{"size":5454,"mtime":1611852631619,"results":"29","hashOfConfig":"26"},{"size":3652,"mtime":1611854270798,"results":"30","hashOfConfig":"26"},{"size":5615,"mtime":1611854504049,"results":"31","hashOfConfig":"26"},{"size":9458,"mtime":1611859652363,"results":"32","hashOfConfig":"26"},{"size":1071,"mtime":1611852572864,"results":"33","hashOfConfig":"26"},{"size":494,"mtime":1611790140239,"results":"34","hashOfConfig":"26"},{"size":1659,"mtime":1611852572873,"results":"35","hashOfConfig":"26"},{"size":1309,"mtime":1611751959117,"results":"36","hashOfConfig":"26"},{"size":866,"mtime":1611790140238,"results":"37","hashOfConfig":"26"},{"size":648,"mtime":1610992506198,"results":"38","hashOfConfig":"26"},{"size":9165,"mtime":1611859846363,"results":"39","hashOfConfig":"26"},{"size":679,"mtime":1611751959162,"results":"40","hashOfConfig":"26"},{"size":2193,"mtime":1611852572844,"results":"41","hashOfConfig":"26"},{"size":11673,"mtime":1611790140229,"results":"42","hashOfConfig":"26"},{"size":3144,"mtime":1611852572853,"results":"43","hashOfConfig":"26"},{"size":1291,"mtime":1611859590929,"results":"44","hashOfConfig":"26"},{"size":4773,"mtime":1611852572843,"results":"45","hashOfConfig":"26"},{"size":1698,"mtime":1611852572841,"results":"46","hashOfConfig":"26"},{"size":1144,"mtime":1610566774478,"results":"47","hashOfConfig":"26"},{"size":3870,"mtime":1611751959133,"results":"48","hashOfConfig":"26"},{"size":3411,"mtime":1611859711130,"results":"49","hashOfConfig":"26"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},"u58s1p",{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"59","messages":"60","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"61","usedDeprecatedRules":"52"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"64"},{"filePath":"65","messages":"66","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"71","messages":"72","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"73","messages":"74","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"75","messages":"76","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"77","messages":"78","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"79","messages":"80","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"81","messages":"82","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"83","messages":"84","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"85","messages":"86","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"87","messages":"88","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"89","messages":"90","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"91","messages":"92","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"93","messages":"94","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"95","messages":"96","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"97","messages":"98","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"99","messages":"100","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"D:\\exjobb\\ReceptMingel\\client\\src\\components\\RecipeTemplate\\index.js",[],["101","102"],"D:\\exjobb\\ReceptMingel\\client\\src\\components\\inputField.js",[],"D:\\exjobb\\ReceptMingel\\client\\src\\components\\RecipeTemplate\\CategoriesInput.js",[],"D:\\exjobb\\ReceptMingel\\client\\src\\components\\RecipeTemplate\\IngredientsInput.js",[],"D:\\exjobb\\ReceptMingel\\client\\src\\components\\SearchView\\index.js",["103","104","105","106"],"import {useContext, useEffect, useState} from 'react';\r\nimport {useHistory, useParams} from 'react-router-dom';\r\nimport { styled } from 'styletron-react';\r\nimport THEME from '../../config/theme';\r\nimport axios from '../../axios';\r\nimport media from '../../config/media';\r\nimport AuthenticationContext from '../../contexts/authentication/context';\r\nimport SearchInputArea from './SearchInputArea';\r\nimport ResultCard from './ResultCard';\r\nimport PartingStrip from '../PartingStrip';\r\nimport PopUpRecipe from './PopUpRecipe';\r\n\r\nconst Wrapper = styled('div', {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    width: '100%',\r\n    padding: '3rem 0',\r\n\r\n    [media.above.tablet] : {\r\n        padding: '3rem 1rem',\r\n    }\r\n});\r\n\r\nconst ResultArea = styled('div', {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    width: '100%',\r\n    maxWidth: '800px',\r\n    height: '100%',\r\n    maxHeight: '1000px',\r\n    margin: '1rem 0 0 0',\r\n    overflow: 'auto',\r\n\r\n    '::-webkit-scrollbar' : { \r\n        height: '0.6rem',\r\n        backgroundColor: THEME.colors.grey[0]\r\n    },\r\n\r\n    '::-webkit-scrollbar-thumb' : {\r\n        borderRadius: '2px',\r\n        border: `1px solid grey`,\r\n        backgroundColor: THEME.colors.secondary[0]\r\n    }\r\n});\r\n\r\nconst SearchView = () => {\r\n    const [popUpOpen, setPopUpOpen] = useState(false)\r\n    const [searchInput, setSearchInput] = useState('');\r\n    const [searchResult, setSearchResult] = useState([]);\r\n    const [recipe, setRecipe] = useState(null);\r\n    let history = useHistory();\r\n\r\n    //Search through database and get a list of results ordered by hitscore in return.\r\n    const getSearchResult = async(query) => {\r\n        await axios\r\n        .get(`/recipes/search/${query}`, { withCredentials: true })\r\n        .then((res) => {\r\n            setSearchResult(res.data)\r\n        });\r\n    };\r\n\r\n    const getRecipeById = async(id) => {\r\n        try{\r\n            let data = await axios.get(`recipes/${id}`, { withCredentials: true })\r\n            .then(({data}) => data);\r\n            setRecipe(data)\r\n            setPopUpOpen(true)\r\n        }catch(error){\r\n            console.log(error)\r\n        }\r\n    };\r\n\r\n    //Redirects to new slug and gets the recipe for that slug\r\n    const handleResultClick = (id) =>{\r\n        getRecipeById(id);\r\n        history.push(`/search/${id}`);\r\n    };\r\n\r\n     //When user closes popup the slug will be removed\r\n    const handleClosePopUp = () => {\r\n        history.push(`/search/`)\r\n        getSearchResult(searchInput)\r\n        setPopUpOpen(false) \r\n    };\r\n\r\n    return(\r\n        <Wrapper>\r\n            <SearchInputArea\r\n                setSearchInput = {setSearchInput}   \r\n                handleClick = {() => getSearchResult(searchInput)} \r\n            />\r\n            {popUpOpen && \r\n                <PopUpRecipe recipe = {recipe} getRecipeById = {getRecipeById} handleClick = {handleClosePopUp}/>\r\n            }\r\n            <ResultArea>\r\n                {(searchResult && searchResult.length > 0) && <PartingStrip width = \"100%\"/>}\r\n                {searchResult.map((item) => (\r\n                    <ResultCard\r\n                    key = {item._id}\r\n                    title = {item.title}\r\n                    imageURL = {item.imageURL}\r\n                    desc = {item.preambleHTML}\r\n                    difficulty = {item.difficulty}\r\n                    cookingTime = {item.cookingTime}\r\n                    handleClick = {() => handleResultClick(item._id)}\r\n                    />\r\n                ))}\r\n            </ResultArea>\r\n        </Wrapper>\r\n    );\r\n};\r\n    \r\n\r\nexport default SearchView;","D:\\exjobb\\ReceptMingel\\client\\src\\contexts\\authentication\\authentication.context.js",["107"],"import {useEffect, useState} from 'react';\r\nimport axios from '../../axios';\r\nimport AuthenticationContext from './context';\r\n\r\nconst AuthenticationContextProvider = (props) => {\r\n    const [user, setUser] = useState(null);\r\n    const [recipeBook, setRecipeBook] = useState([]);\r\n    const [isLoadingUser, setIsLoadingUser] = useState(true);\r\n    const [isLoadingBook, setIsLoadingBook] = useState(true)\r\n    const [isLoadingUnauthorized, setIsLoadingUnauthorized] = useState(false);\r\n    const [isAuthenticated, setIsAuthenticated] = useState(false);\r\n\r\n    //FETCH FUNCTION DISABLED BECAUSE COOKIES ANS SESSIONS NOT WORKING ATM BECAUSE NETLIFY DON'T TRUST HEROKU's 3RD PARTY COOKIE\r\n   /*  async function fetchData(){\r\n        await axios\r\n        .get('/users', { withCredentials: true })\r\n        .then((res) => {\r\n            if(res.data.message && res.data.message === \"Authenticated\"){\r\n                setIsAuthenticated(true);\r\n                setUser(res.data.user);\r\n                getRecipeBook(res.data.user._id)\r\n                setIsLoadingUser(false);\r\n            } else {\r\n                setIsAuthenticated(false);\r\n                setUser(null);\r\n                setIsLoadingUnauthorized(true)\r\n            };\r\n        })\r\n        .catch(error => console.log(error))\r\n    };\r\n\r\n    useEffect(() => {\r\n        fetchData()\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, []); */\r\n\r\n    //This should be refactorized when authentication works\r\n    const getSessionUser = async(id) => {\r\n        setIsLoadingUser(true);\r\n        try{\r\n            let data = await axios.get(`/users/${id}`, { withCredentials: true })\r\n            .then(({data}) => data);\r\n            setUser(data)\r\n            setIsLoadingUser(false);\r\n        }catch(error){\r\n            console.log(error)\r\n        }\r\n    };\r\n\r\n    //fetches and populates the updated user.recipeBook array when user is updated.\r\n   useEffect(() => {\r\n        (!isLoadingUser && user) && getRecipeBook(user._id)\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [user]) \r\n\r\n    const getRecipeBook = async(id) => {\r\n        try{\r\n            let data = await axios.get(`/users/recipeBook/${id}`, { withCredentials: true })\r\n            .then(({data}) => data);\r\n            setRecipeBook(data.recipeBook[0].recipe)\r\n            setIsLoadingBook(false)\r\n        }catch(error){\r\n            console.log(error)\r\n        }\r\n    }\r\n\r\n    const removeRecipeBookItem = (list, id) => {\r\n        const newList = list.filter((item) => item !== id);\r\n        setUser({\r\n            ...user,\r\n            recipeBook: newList,\r\n        })\r\n    };\r\n\r\n    const addRecipeBookItem = (listItem) => {\r\n        const newItem = listItem;\r\n        const newList = [...user.recipeBook, newItem];\r\n        setUser({\r\n            ...user,\r\n            recipeBook: newList,\r\n        })\r\n    };\r\n\r\n    //for updating both recipeBook and user\r\n    const updateUser = async(id, inputValues) => {\r\n        await axios\r\n        .patch(`/users/${id}`, inputValues, {withCredentials: true})\r\n        .then((data) => {\r\n            getSessionUser(user._id);\r\n        })\r\n        .catch(error => console.log(error))\r\n    };\r\n\r\n    //Register new user\r\n    const registerNewUser = async (inputValues) => {\r\n        await axios\r\n        .post('/users', inputValues)\r\n        .then((res) => {\r\n            if(res.data.message){\r\n                if (res.data.message === \"Authenticated\") {\r\n                    setIsAuthenticated(true);\r\n                    setUser(res.data.user);\r\n                    setIsLoadingUser(false)\r\n                } else {\r\n                    setIsAuthenticated(false);\r\n                    setUser(null);\r\n                    setIsLoadingUnauthorized(true)\r\n                };\r\n                return res.data.message\r\n            }; \r\n        })\r\n        .catch(error => console.log(error))  \r\n    }\r\n\r\n    const login = async (username, password) => {\r\n        await axios\r\n        .post('/users/session/login', {username, password}, {withCredentials: true})\r\n        .then((res) => {\r\n            if(res.data.message){\r\n                if (res.data.message === \"Authenticated\") {\r\n                    setIsAuthenticated(true);\r\n                    setUser(res.data.user);\r\n                    setIsLoadingUser(false)\r\n                } else {\r\n                    setIsAuthenticated(false);\r\n                    setUser(null);\r\n                    setIsLoadingUnauthorized(true)\r\n                };\r\n                return res.data.message\r\n            };  \r\n        })\r\n        .catch(error => {\r\n            console.log(error)\r\n        })\r\n    };\r\n    \r\n    const logout = async () => {\r\n        setUser(null);\r\n        setIsAuthenticated(false);\r\n        setIsLoadingUnauthorized(true);\r\n        setIsLoadingUser(true);\r\n        await axios.delete('users/session/logout',{ withCredentials: true })\r\n    };\r\n\r\n    //TODO move register to here?\r\n\r\n    //TODO Update user here?\r\n\r\n    return(\r\n        <AuthenticationContext.Provider\r\n            {...props}\r\n            value={{\r\n                addRecipeBookItem,\r\n                //fetchData,\r\n                getRecipeBook,\r\n                getSessionUser,\r\n                isAuthenticated,\r\n                isLoadingUnauthorized,\r\n                isLoadingUser,\r\n                login,\r\n                logout,\r\n                recipeBook,\r\n                registerNewUser,\r\n                removeRecipeBookItem,\r\n                updateUser,\r\n                user,\r\n            }}\r\n        />\r\n    );\r\n};\r\n\r\nexport default AuthenticationContextProvider;","D:\\exjobb\\ReceptMingel\\client\\src\\components\\startPage\\RegisterNewUser\\index.js",[],"D:\\exjobb\\ReceptMingel\\client\\src\\index.js",[],"D:\\exjobb\\ReceptMingel\\client\\src\\contexts\\index.js",[],"D:\\exjobb\\ReceptMingel\\client\\src\\routes\\app.router.js",[],"D:\\exjobb\\ReceptMingel\\client\\src\\Header\\index.js",[],"D:\\exjobb\\ReceptMingel\\client\\src\\contexts\\authentication\\context.js",[],"D:\\exjobb\\ReceptMingel\\client\\src\\routes\\protected.route.js",[],"D:\\exjobb\\ReceptMingel\\client\\src\\pages\\RecipeView.page.js",["108"],"D:\\exjobb\\ReceptMingel\\client\\src\\config\\media.js",[],"D:\\exjobb\\ReceptMingel\\client\\src\\components\\RecipeWheel.js",[],"D:\\exjobb\\ReceptMingel\\client\\src\\components\\RecipeView\\index.js",[],"D:\\exjobb\\ReceptMingel\\client\\src\\components\\SearchView\\ResultCard.js",[],"D:\\exjobb\\ReceptMingel\\client\\src\\components\\RecipeTemplate\\CookingTimeInput.js",[],"D:\\exjobb\\ReceptMingel\\client\\src\\components\\RecipeView\\TopSection.js",[],"D:\\exjobb\\ReceptMingel\\client\\src\\components\\RecipeView\\CookingStepsSection.js",[],"D:\\exjobb\\ReceptMingel\\client\\src\\components\\RecipeTemplate\\categories.listItem.js",[],"D:\\exjobb\\ReceptMingel\\client\\src\\components\\RecipeTemplate\\text.listItem.js",["109"],"D:\\exjobb\\ReceptMingel\\client\\src\\contexts\\recipe\\recipe.contextProvider.js",[],{"ruleId":"110","replacedBy":"111"},{"ruleId":"112","replacedBy":"113"},{"ruleId":"114","severity":1,"message":"115","line":1,"column":9,"nodeType":"116","messageId":"117","endLine":1,"endColumn":19},{"ruleId":"114","severity":1,"message":"118","line":1,"column":21,"nodeType":"116","messageId":"117","endLine":1,"endColumn":30},{"ruleId":"114","severity":1,"message":"119","line":2,"column":21,"nodeType":"116","messageId":"117","endLine":2,"endColumn":30},{"ruleId":"114","severity":1,"message":"120","line":7,"column":8,"nodeType":"116","messageId":"117","endLine":7,"endColumn":29},{"ruleId":"114","severity":1,"message":"121","line":9,"column":12,"nodeType":"116","messageId":"117","endLine":9,"endColumn":25},{"ruleId":"114","severity":1,"message":"122","line":11,"column":8,"nodeType":"116","messageId":"117","endLine":11,"endColumn":26},{"ruleId":"114","severity":1,"message":"123","line":3,"column":8,"nodeType":"116","messageId":"117","endLine":3,"endColumn":13},"no-native-reassign",["124"],"no-negated-in-lhs",["125"],"no-unused-vars","'useContext' is defined but never used.","Identifier","unusedVar","'useEffect' is defined but never used.","'useParams' is defined but never used.","'AuthenticationContext' is defined but never used.","'isLoadingBook' is assigned a value but never used.","'GridContentWrapper' is defined but never used.","'media' is defined but never used.","no-global-assign","no-unsafe-negation"]